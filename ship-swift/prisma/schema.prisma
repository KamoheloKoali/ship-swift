generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model clients {
  Id             String           @id
  email          String           @unique
  phoneNumber    String
  firstName      String
  lastName       String
  photoUrl       String
  idPhotoUrl     String
  dateCreated    DateTime         @default(now())
  dateUpdated    DateTime         @updatedAt
  courierJobs    CourierJobs[]
  driverRequests DriverRequests[]
  clientRequests clientRequests[]
}

model Drivers {
  Id             String           @id
  email          String           @unique
  phoneNumber    String
  firstName      String
  lastName       String
  photoUrl       String
  idPhotoUrl     String
  vehicleType    String
  vehicleDetails String[]
  dateCreated    DateTime         @default(now())
  dateUpdated    DateTime         @updatedAt
  driveRequests  DriverRequests[]
  clientRequests clientRequests[]
}

model CourierJobs {
  Id          String  @id @default(uuid())
  Title       String
  Description String
  Budget      String
  clientId    String
  PickUp      String
  DropOff     String
  dateCreated DateTime @default(now())
  client      clients @relation(fields: [clientId], references: [Id])
}

model DriverRequests {
  Id         String  @id @default(uuid())
  receiverId String
  senderId   String
  message    String
  isAccepted Boolean @default(false)
  isPending  Boolean @default(false)
  receiver   clients @relation(fields: [receiverId], references: [Id])
  sender     Drivers @relation(fields: [senderId], references: [Id])
}

model clientRequests {
  Id         String  @id @default(uuid())
  message    String
  senderId   String
  receiverId String
  isAccepted Boolean @default(false)
  isPending  Boolean @default(false)
  receiver   Drivers @relation(fields: [receiverId], references: [Id])
  sender     clients @relation(fields: [senderId], references: [Id])
}

model UserRole {
  userId String  @id
  driver Boolean @default(false)
  client Boolean @default(false)
}
